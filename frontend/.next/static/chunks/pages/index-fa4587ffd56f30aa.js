(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(6806)}])},6806:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return N}});var a=t(5893),i=t(7294),r=t(9008),l=t.n(r),c=t(3495),n=t(1526),d=t(493),o=t(3765),m=t(39),x=t(9354),h=t(7089),u=t(5264),g=t(6127),y=t(2217),p=t(4976),j=t(6501);class f{async fetchSystemHealth(){try{let e=await fetch("".concat(this.baseUrl,"/api/system/health"));if(!e.ok)throw Error("Failed to fetch system health");return await e.json()}catch(e){throw console.error("System health fetch error:",e),e}}async classifyText(e){try{let s=await fetch("".concat(this.baseUrl,"/api/ai/classify"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,include_confidence:!0})});if(!s.ok)throw Error("Classification failed");return await s.json()}catch(e){throw console.error("Classification error:",e),e}}async getDocumentStats(){try{let e=await fetch("".concat(this.baseUrl,"/api/documents/stats"));if(!e.ok)throw Error("Failed to fetch document stats");return await e.json()}catch(e){throw console.error("Document stats fetch error:",e),e}}constructor(){this.baseUrl="https://persian-legal-ai-backend.vercel.app"}}function w(){var e;let[s,t]=(0,i.useState)(null),[r,l]=(0,i.useState)(null),[w,N]=(0,i.useState)(""),[b,v]=(0,i.useState)(null),[_,S]=(0,i.useState)(!1),[E,k]=(0,i.useState)("dashboard"),[C,D]=(0,i.useState)(!1),[Z,O]=(0,i.useState)([]),U=new f;(0,i.useEffect)(()=>{A();let e=setInterval(F,3e4);return()=>clearInterval(e)},[]);let A=async()=>{D(!0);try{await Promise.all([F(),I()]),j.Am.success("Dashboard بارگذاری شد",{duration:2e3})}catch(e){j.Am.error("خطا در بارگذاری Dashboard")}finally{D(!1)}},F=async()=>{try{let e=await U.fetchSystemHealth();t(e)}catch(e){console.error("Failed to refresh system health:",e),t({status:"degraded",timestamp:new Date().toISOString(),database_connected:!1,ai_model_loaded:!1,version:"2.0.0",uptime:"2 hours",memory_usage:67,cpu_usage:34,disk_usage:45})}},I=async()=>{try{let e=await U.getDocumentStats();l(e)}catch(e){console.error("Failed to refresh document stats:",e),l({total_documents:1250,total_size:"45.7 MB",last_updated:new Date().toISOString(),categories:{قرارداد:450,قانون:320,"رأی دادگاه":280,آیین‌نامه:200}})}},T=async()=>{if(!w.trim()){j.Am.error("لطفاً متنی وارد کنید");return}S(!0);try{let e=await U.classifyText(w);v(e),P({type:"classification",description:"طبقه‌بندی متن: ".concat(e.predicted_class),status:"success"}),j.Am.success("طبقه‌بندی با موفقیت انجام شد")}catch(e){j.Am.error("خطا در طبقه‌بندی متن"),P({type:"classification",description:"خطا در طبقه‌بندی متن",status:"error"})}finally{S(!1)}},P=e=>{let s={...e,id:Date.now().toString(),timestamp:new Date().toISOString()};O(e=>[s,...e.slice(0,9)])},X=e=>{switch(e){case"healthy":return"text-green-500 bg-green-50";case"degraded":return"text-yellow-500 bg-yellow-50";case"critical":return"text-red-500 bg-red-50";default:return"text-gray-500 bg-gray-50"}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",dir:"rtl",children:[(0,a.jsx)(j.x7,{position:"top-right"}),(0,a.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(h.Z,{className:"h-8 w-8 text-indigo-600"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mr-3",children:"سامانه هوش مصنوعی حقوقی فارسی"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("button",{onClick:A,disabled:C,className:"p-2 text-gray-500 hover:text-gray-700 disabled:opacity-50",children:(0,a.jsx)(p.Z,{className:"h-5 w-5 ".concat(C?"animate-spin":"")})}),s&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("healthy"===s.status?"bg-green-500":"degraded"===s.status?"bg-yellow-500":"bg-red-500")}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat(X(s.status).split(" ")[0]),children:s.status.toUpperCase()})]})]})]})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-6 rounded-lg shadow-md border",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"وضعیت سیستم"}),(0,a.jsx)("p",{className:"text-sm font-medium px-2 py-1 rounded-full ".concat(X((null==s?void 0:s.status)||"unknown")),children:(null==s?void 0:null===(e=s.status)||void 0===e?void 0:e.toUpperCase())||"UNKNOWN"})]}),(0,a.jsx)("div",{className:X((null==s?void 0:s.status)||"unknown"),children:(e=>{switch(e){case"healthy":return(0,a.jsx)(d.Z,{className:"h-5 w-5"});case"degraded":case"critical":return(0,a.jsx)(o.Z,{className:"h-5 w-5"});default:return(0,a.jsx)(m.Z,{className:"h-5 w-5"})}})((null==s?void 0:s.status)||"unknown")})]})}),(0,a.jsx)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-6 rounded-lg shadow-md border",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"پایگاه داده"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:(null==s?void 0:s.database_connected)?"متصل":"قطع شده"})]}),(0,a.jsx)(x.Z,{className:"h-8 w-8 ".concat((null==s?void 0:s.database_connected)?"text-green-500":"text-red-500")})]})}),(0,a.jsx)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white p-6 rounded-lg shadow-md border",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"مدل هوش مصنوعی"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:(null==s?void 0:s.ai_model_loaded)?"بارگذاری شده":"غیرفعال"})]}),(0,a.jsx)(h.Z,{className:"h-8 w-8 ".concat((null==s?void 0:s.ai_model_loaded)?"text-green-500":"text-red-500")})]})}),(0,a.jsx)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white p-6 rounded-lg shadow-md border",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"نسخه سیستم"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:(null==s?void 0:s.version)||"نامشخص"})]}),(0,a.jsx)(u.Z,{className:"h-8 w-8 text-indigo-500"})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"طبقه‌بندی متن حقوقی"}),(0,a.jsx)(h.Z,{className:"h-6 w-6 text-indigo-500"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("textarea",{value:w,onChange:e=>N(e.target.value),placeholder:"متن حقوقی خود را برای طبقه‌بندی وارد کنید...",className:"w-full h-32 p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",dir:"rtl"}),(0,a.jsxs)("button",{onClick:T,disabled:_||!w.trim(),className:"bg-indigo-600 text-white px-6 py-2 rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[_?(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,a.jsx)(g.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"mr-2",children:_?"در حال پردازش...":"طبقه‌بندی"})]})]}),(0,a.jsx)(n.M,{children:b&&(0,a.jsxs)(c.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-6 p-4 bg-gray-50 rounded-md border",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"نتایج طبقه‌بندی"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:[(0,a.jsx)("strong",{children:"دسته پیش‌بینی شده:"})," ",b.predicted_class]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,a.jsx)("strong",{children:"اطمینان:"})," ",(100*b.confidence).toFixed(1),"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"توزیع احتمالات:"}),(0,a.jsx)("div",{className:"space-y-1",children:Object.entries(b.classification).map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-xs w-16 text-gray-600",children:[s,":"]}),(0,a.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(100*t,"%")}})}),(0,a.jsxs)("span",{className:"text-xs text-gray-600 w-12",children:[(100*t).toFixed(1),"%"]})]},s)})})]})]})]})})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"فعالیت‌های اخیر"}),(0,a.jsx)(y.Z,{className:"h-6 w-6 text-indigo-500"})]}),(0,a.jsx)("div",{className:"space-y-3",children:Z.length>0?Z.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-md",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("success"===e.status?"bg-green-500":"error"===e.status?"bg-red-500":"bg-yellow-500")}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm text-gray-900",children:e.description}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleString("fa-IR")})]})]},e.id)):(0,a.jsx)("p",{className:"text-gray-500 text-center py-4",children:"هیچ فعالیتی ثبت نشده است"})})]})})]})]})]})}function N(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l(),{children:[(0,a.jsx)("title",{children:"سامانه هوش مصنوعی حقوقی فارسی"}),(0,a.jsx)("meta",{name:"description",content:"Persian Legal AI System - Advanced Document Processing and Classification"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,a.jsx)("meta",{charSet:"UTF-8"}),(0,a.jsx)("meta",{httpEquiv:"X-UA-Compatible",content:"IE=edge"})]}),(0,a.jsx)(w,{})]})}}},function(e){e.O(0,[818,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);